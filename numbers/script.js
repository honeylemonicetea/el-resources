tasks = [
  {
    q: "one",
    options: [
      { option: "1", correct: true },
      { option: "4", correct: false },
      { option: "3", correct: false },
      { option: "8", correct: false },
    ],
  },
  {
    q: "two",
    options: [
      { option: "5", correct: false },
      { option: "2", correct: true },
      { option: "3", correct: false },
      { option: "4", correct: false },
    ],
  },
  {
    q: "three",
    options: [
      { option: "1", correct: false },
      { option: "2", correct: false },
      { option: "3", correct: true },
      { option: "4", correct: false },
    ],
  },
  {
    q: "four",
    options: [
      { option: "1", correct: false },
      { option: "2", correct: false },
      { option: "3", correct: false },
      { option: "4", correct: true },
    ],
  },
  {
    q: "five",
    options: [
      { option: "1", correct: false },
      { option: "2", correct: false },
      { option: "3", correct: false },
      { option: "5", correct: true },
    ],
  },
  {
    q: "six",
    options: [
      { option: "1", correct: false },
      { option: "9", correct: false },
      { option: "4", correct: false },
      { option: "6", correct: true },
    ],
  },
  {
    q: "seven",
    options: [
      { option: "9", correct: false },
      { option: "2", correct: false },
      { option: "2", correct: false },
      { option: "7", correct: true },
    ],
  },
  {
    q: "eight",
    options: [
      { option: "1", correct: false },
      { option: "4", correct: false },
      { option: "3", correct: false },
      { option: "8", correct: true },
    ],
  },
  {
    q: "nine",
    options: [
      { option: "8", correct: false },
      { option: "3", correct: false },
      { option: "4", correct: false },
      { option: "9", correct: true },
    ],
  },
  {
    q: "ten",
    options: [
      { option: "8", correct: false },
      { option: "11", correct: false },
      { option: "4", correct: false },
      { option: "10", correct: true },
    ],
  },
  {
    q: "eleven",
    options: [
      { option: "14", correct: false },
      { option: "20", correct: false },
      { option: "12", correct: false },
      { option: "11", correct: true },
    ],
  },
  {
    q: "twelve",
    options: [
      { option: "20", correct: false },
      { option: "14", correct: false },
      { option: "11", correct: false },
      { option: "12", correct: true },
    ],
  },
  {
    q: "thirteen",
    options: [
      { option: "12", correct: false },
      { option: "20", correct: false },
      { option: "30", correct: false },
      { option: "13", correct: true },
    ],
  },
  {
    q: "fourteen",
    options: [
      { option: "3", correct: false },
      { option: "40", correct: false },
      { option: "4", correct: false },
      { option: "14", correct: true },
    ],
  },
  {
    q: "fifteen",
    options: [
      { option: "51", correct: false },
      { option: "50", correct: false },
      { option: "5", correct: false },
      { option: "15", correct: true },
    ],
  },
  {
    q: "sixteen",
    options: [
      { option: "60", correct: false },
      { option: "6", correct: false },
      { option: "61", correct: false },
      { option: "16", correct: true },
    ],
  },
  {
    q: "seventeen",
    options: [
      { option: "70", correct: false },
      { option: "7", correct: false },
      { option: "71", correct: false },
      { option: "17", correct: true },
    ],
  },
  {
    q: "eighteen",
    options: [
      { option: "8", correct: false },
      { option: "80", correct: false },
      { option: "81", correct: false },
      { option: "18", correct: true },
    ],
  },
  {
    q: "nineteen",
    options: [
      { option: "9", correct: false },
      { option: "90", correct: false },
      { option: "91", correct: false },
      { option: "19", correct: true },
    ],
  },
  {
    q: "twenty",
    options: [
      { option: "12", correct: false },
      { option: "2", correct: false },
      { option: "21", correct: false },
      { option: "20", correct: true },
    ],
  },
  {
    q: "thirty",
    options: [
      { option: "13", correct: false },
      { option: "3", correct: false },
      { option: "31", correct: false },
      { option: "30", correct: true },
    ],
  },
  {
    q: "fourty",
    options: [
      { option: "14", correct: false },
      { option: "41", correct: false },
      { option: "4", correct: false },
      { option: "40", correct: true },
    ],
  },
  {
    q: "first",
    options: [
      { option: "второй", correct: false },
      { option: "третий", correct: false },
      { option: "четвертый", correct: false },
      { option: "первый", correct: true },
    ],
  },
  {
    q: "second",
    options: [
      { option: "первый", correct: false },
      { option: "третий", correct: false },
      { option: "пятый", correct: false },
      { option: "второй", correct: true },
    ],
  },
  {
    q: "third",
    options: [
      { option: "пятый", correct: false },
      { option: "тридцатый", correct: false },
      { option: "второй", correct: false },
      { option: "третий", correct: true },
    ],
  },
  {
    q: "fourth",
    options: [
      { option: "четыре", correct: false },
      { option: "пятый", correct: false },
      { option: "четырнадцать", correct: false },
      { option: "четвертый", correct: true },
    ],
  },
  {
    q: "fifth",
    options: [
      { option: "пять", correct: false },
      { option: "шесть", correct: false },
      { option: "пятнадцать", correct: false },
      { option: "пятый", correct: true },
    ],
  },
  {
    q: "sixth",
    options: [
      { option: "первый", correct: false },
      { option: "шестнадцатый", correct: false },
      { option: "шестьдесят", correct: false },
      { option: "шестой", correct: true },
    ],
  },
  {
    q: "eighth",
    options: [
      { option: "десятый", correct: false },
      { option: "восемнадцать", correct: false },
      { option: "восьмидесятый", correct: false },
      { option: "восьмой", correct: true },
    ],
  },
  {
    q: "ninth",
    options: [
      { option: "девять", correct: false },
      { option: "девяносто", correct: false },
      { option: "девятнадцатый", correct: false },
      { option: "девятый", correct: true },
    ],
  },
  {
    q: "twenty-first",
    options: [
      { option: "двадцатый", correct: false },
      { option: "двенадцатый", correct: false },
      { option: "двадцать один", correct: false },
      { option: "двадцать первый", correct: true },
    ],
  },
  {
    q: "first day of the week",
    options: [
      { option: "Sunday", correct: false },
      { option: "Tuesday", correct: false },
      { option: "Thursday", correct: false },
      { option: "Monday", correct: true },
    ],
  },
  {
    q: "sixth day of the week",
    options: [
      { option: "Monday", correct: false },
      { option: "Friday", correct: false },
      { option: "Sunday", correct: false },
      { option: "Saturday", correct: true },
    ],
  },
  {
    q: "second day of the week",
    options: [
      { option: "Sunday", correct: false },
      { option: "Friday", correct: false },
      { option: "Thursday", correct: false },
      { option: "Tuesday", correct: true },
    ],
  },
  {
    q: "third day of the week",
    options: [
      { option: "Sunday", correct: false },
      { option: "Tuesday", correct: false },
      { option: "Thursday", correct: false },
      { option: "Wednesday", correct: true },
    ],
  },
  {
    q: "fourth day of the week",
    options: [
      { option: "Sunday", correct: false },
      { option: "Tuesday", correct: false },
      { option: "Friday", correct: false },
      { option: "Thursday", correct: true },
    ],
  },
  {
    q: "fifth day of the week",
    options: [
      { option: "Sunday", correct: false },
      { option: "Tuesday", correct: false },
      { option: "Thursday", correct: false },
      { option: "Friday", correct: true },
    ],
  },
  {
    q: "seventh day of the week",
    options: [
      { option: "Monday", correct: false },
      { option: "Tuesday", correct: false },
      { option: "Thursday", correct: false },
      { option: "Sunday", correct: true },
    ],
  },
  {
    q: "first month of the year",
    options: [
      { option: "February", correct: false },
      { option: "December", correct: false },
      { option: "March", correct: false },
      { option: "January", correct: true },
    ],
  },
  {
    q: "second month of the year",
    options: [
      { option: "January", correct: false },
      { option: "March", correct: false },
      { option: "April", correct: false },
      { option: "February", correct: true },
    ],
  },
  {
    q: "third month of the year",
    options: [
      { option: "September", correct: false },
      { option: "October", correct: false },
      { option: "April", correct: false },
      { option: "March", correct: true },
    ],
  },
  {
    q: "fourth month of the year",
    options: [
      { option: "June", correct: false },
      { option: "July", correct: false },
      { option: "March", correct: false },
      { option: "April", correct: true },
    ],
  },
  {
    q: "fifth month of the year",
    options: [
      { option: "April", correct: false },
      { option: "August", correct: false },
      { option: "June", correct: false },
      { option: "May", correct: true },
    ],
  },
  {
    q: "sixth month of the year",
    options: [
      { option: "July", correct: false },
      { option: "August", correct: false },
      { option: "October", correct: false },
      { option: "June", correct: true },
    ],
  },
  {
    q: "seventh month of the year",
    options: [
      { option: "June", correct: false },
      { option: "August", correct: false },
      { option: "October", correct: false },
      { option: "July", correct: true },
    ],
  },
  {
    q: "eighth month of the year",
    options: [
      { option: "June", correct: false },
      { option: "October", correct: false },
      { option: "December", correct: false },
      { option: "August", correct: true },
    ],
  },
  {
    q: "ninth month of the year",
    options: [
      { option: "November", correct: false },
      { option: "May", correct: false },
      { option: "April", correct: false },
      { option: "September", correct: true },
    ],
  },
  {
    q: "tenth month of the year",
    options: [
      { option: "June", correct: false },
      { option: "January", correct: false },
      { option: "September", correct: false },
      { option: "October", correct: true },
    ],
  },
  {
    q: "eleventh month of the year",
    options: [
      { option: "October", correct: false },
      { option: "February", correct: false },
      { option: "March", correct: false },
      { option: "November", correct: true },
    ],
  },
  {
    q: "twelfth month of the year",
    options: [
      { option: "October", correct: false },
      { option: "January", correct: false },
      { option: "February", correct: false },
      { option: "December", correct: true },
    ],
  },
  // first day of the week, twelfth month of the year
];
let totalTasks = tasks.length;
let correctCount = document.querySelector(".correct-count");
correctCount.innerHTML = `0/${totalTasks}`;
let correctAnswers = 0;
let currentTask = 0;
let taskWord = document.querySelector(".task-word");
let taskAnswers = document.querySelector(".task__answers");
let timerText = document.querySelector(".timer");
let correctSound = new Audio("correct.mp3");
correctSound.volume = 0.1;
let wrongSound = new Audio("wrong.mp3");
wrongSound.volume = 0.1;
let currentTime = 60;

function shuffle(arr) {
  randomArr = [...arr];
  for (let i = randomArr.length - 1; i > 0; i--) {
    let j = Math.floor(Math.random() * (i + 1));
    [randomArr[i], randomArr[j]] = [randomArr[j], randomArr[i]];
  }
  return randomArr;
}
tasks = shuffle(tasks);

function checkAnswer(button, correct) {
  if (correct) {
    button.style.backgroundColor = "#90F0AC";
    correctSound.play();
    currentTime = 70;
    correctAnswers++;
    correctCount.innerHTML = `${correctAnswers}/${totalTasks}`;
  }

  if (!correct) {
    button.style.backgroundColor = "#FF6C61";
    wrongSound.play();
    currentTime = 50;
  }
  setTimeout(() => {
    if (currentTask < tasks.length - 1) {
      currentTask++;
      setTask();
    } else {
      currentTime = 0;
    }
  }, 1000);
}

function setTask() {
  taskWord.innerHTML = tasks[currentTask].q;
 
  taskAnswers.innerHTML = "";
  let currentTasks = shuffle(tasks[currentTask].options);
  for (let i = 0; i < 4; i++) {
    let button = document.createElement("button");
    button.innerHTML = currentTasks[i].option;

    button.addEventListener("click", () => {
      checkAnswer(button, currentTasks[i].correct);
    });
    taskAnswers.appendChild(button);
 
  }
}
setTask();

let interval = setInterval(() => {
  if (currentTime > 0) {
    currentTime--;
  }
  let minutes = Math.floor(currentTime / 60);
  let seconds = currentTime % 60;
  if (seconds < 10) {
    seconds = "0" + seconds;
  }
 
  timerText.innerHTML = `0${minutes}:${seconds}`;
  if (currentTime == 0) {
    [...taskAnswers.children].map((button) => {
      button.disabled = true;
    });
    if (correctAnswers > totalTasks / 2) {
      alert("You Won!");
    } else {
      alert("You Lost!");
    }
    clearInterval(interval);
  }
}, 1000);
